# 审慎地使用本地方法

Java本地接口（JNI）允许Java程序调用本地方法，这些方法是用本地编程语言（如C或C++）编写的。从历史上看，本地方法主要有三种用途。他们提供了对特定平台的设施访问，如：注册中心。它们提供对现有本地代码库的访问，包括提供对遗留数据访问的遗留库。最后，使用本地方法以本地语言编写应用程序的性能关键部分，以提高性能。

使用本地方法来访问特定于平台的工具是合法的，但是很少有必要。随着Java平台的成熟，它提供了对许多以前只能在主机平台上找到的特性的访问。例如，在Java 9中添加的流程API提供了对OS流程的访问。当Java中没有等价的库可用时，使用本地方法来使用本地库也是合法的。

**一般不建议使用本地方法来提高性能**。在早期的版本中（Java 3之前），这通常是必要的，但是从那时起，jvm变得更快了。对于大多数任务，现在用Java也可以获得同等的性能。比如，在`Java 1.1`版本中`java.math `加入了类库。当时，`BigInteger`依赖一个C语言编写的多精度的算术库。在`Java 3`中，`BigInteger `用Java重新实现了。而且经过小心优化后，比原来本地方法的实现运行还要快。

