# 最小化局部变量的作用域

这一章本质上跟条款15类似，“最小化类和成员的可访问性”。通过最小化局部变量的范围，可以提高代码的可读性和可维护性，并降低出错的可能性。

比较老的编程语言，如C，强制要求必须在代码块的头部声明局部变量，一些程序员出于习惯继续这样做。这不是一个好习惯。稍微提醒一句，Java允许你在语句合法的任何地方声明变量（从C99开始，C也是如此）。

最小化局部变量范围的最好的的办法就是是在第一次使用它的地方声明它。如果一个变量在使用之前就声明了，那么它就会变得很混乱——这是另一件分散读者注意力的事情，因为读者正在试图弄清楚这个程序是做什么的。在使用变量时，读者可能不记得变量的类型或初始值。

过早地声明局部变量不仅会导致其作用域开始得太早，而且结束得太晚。局部变量的范围从声明它的地方扩展到封闭块的末尾。如果变量声明在使用它的代码块的外部，那么在程序退出该块之后它仍然保持可见。如果一个变量在其预期使用区域之前或之后意外使用，其后果可能是灾难性的。

**几乎每一个局部变量声明都应该包含初始化**。如果你还没有足够的信息去合理地初始化一个变量，那么你应该推迟声明直到你可以初始化它。对于这个规则，`try-catch`语句是个例外。如果一个变量通过一个表达式来初始化，该表达式的计算可能抛出一个受检异常，那么该变量必须在`try`块中去初始化（除非所包含的方法可以传播异常）。如果该值必须在`try`块之外使用，那么它必须在`try`块之前声明，即便此时它还不能“合理地初始化”。举个例子，请参见283页。